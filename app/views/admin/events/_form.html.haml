= javascript_include_tag Ckeditor.cdn_url
- admin = current_user.admin?

= simple_form_for [:admin, event] do |f|
  %h3
    = t('.general')

  .row
    .col-xs-12
      = f.input :place

  .row
    .col-xs-12{ data: { limited: '', limit: 35 } }
      = f.input :title, input_html: { rows: 1 }, maxlength: 35
      %span.char-counter
        = t('remaining_chars', chars: 35)

  .row
    .col-xs-12{ data: { limited: '', limit: 100 } }
      = f.input :subtitle, input_html: { rows: 1 }, maxlength: 100
      %span.char-counter
        = t('remaining_chars', chars: 100)

  .row
    .col-xs-12
      = f.input :description, as: :ckeditor, input_html: { rows: 5 }

  .row
    .col-xs-3
      = f.input :event_date, as: :string, input_html: { value: (localize(f.object.event_date) if f.object.event_date), class: 'datepicker' }
    .col-xs-3
      = f.input :end_date, as: :string, input_html: { value: (localize(f.object.end_date) if f.object.end_date), class: 'datepicker' }
    .col-xs-3
      = f.input :start_time, as: :string, input_html: { class: 'timepicker', placeholder: t('select_hour'), value: f.object.start_time_str }
    .col-xs-3
      = f.input :end_time, as: :string, input_html: { class: 'timepicker', placeholder: t('select_hour'), value: f.object.end_time_str }

  .row
    .col-xs-12
      .wine
        = f.label :cover, style: 'font-weight: normal;'

  .row
    .col-xs-4
      = f.input :cover, label: false

  .row
    .col-xs-12{ data: { limited: '', limit: 500 } }
      = f.input :more, input_html: { rows: 5 }, maxlength: 500
      %span.char-counter
        = t('remaining_chars', chars: 500)

  .row
    - if admin
      .col-xs-4
        = checkbox_item(f, :featured)

  .row
    .col-xs-6
      = render 'admin/events/event_images/nested', f: f

  = render 'shared/form_actions', f: f
