- role = current_role(current_user, request.url)
- content_for :javascript, javascript_include_tag('')

%h3.wine
  = t('.general')

.row
  .col-xs-12.col-sm-6
    = f.input :title, required: true, autofocus: true
  .col-xs-12.col-sm-6
    = f.input :original_title

  - if role == :admin
    .col-xs-12.col-sm-3
      = f.input :status, collection: CinerVideo.localized_detailed_statuses, include_blank: "Aguardando / Aprovado / Recusado"

.row
  .col-xs-12.col-sm-4
    = f.input :year, as: :string, input_html: { class: 'year', placeholder: 'aaaa' }, maxlength: 4
  .col-xs-12.col-sm-4
    = f.input :release, as: :string, input_html: { value: (localize(f.object.release) if f.object.release), class: 'datepicker', placeholder: 'dd/mm/aaaa' }
  .col-xs-12.col-sm-4
    = f.input :countries, collection: Country.all, input_html: { multiple: true }

.row
  .col-xs-12.col-sm-4
    = f.input :length
  .col-xs-12.col-sm-4
    = f.input :film_production_categories, collection: FilmProductionCategory.all, input_html: { multiple: true }
  .col-xs-12.col-sm-4
    = f.input :ciner_video_ratings, collection: AgeRange.all, input_html: { multiple: true }

.row
  .col-xs-12{ data: { limited: '', limit: 1000 } }
    = f.input :synopsis, input_html: { rows: 5 }, maxlength: 1000
    %span.char-counter
      = t('remaining_chars', chars: 1000)

.row
  .col-xs-6
    = f.input :cover

- if current_user
  = f.hidden_field :user_id, value: current_user.id

.row
  .col-xs-6
    %h3.wine
      Equipe de Produção
.row{ data: { selection: '' } }
  .col-xs-6
    = render 'shared/ciner_videos/ciner_video_users/nested', f: f

= render 'shared/ciner_videos/form_actions', f: f, submit_msg: 'Salvar informações e prosseguir para upload'
